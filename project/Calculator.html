
<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>计算器</title>
    <style>
        table{margin: 0 auto;border-color: #ccc}
        [type="text"]{width: 494px;height: 80px;font-size: 45px;text-align: right;}
        [type="button"]{width: 123px;height: 85px;font-size: 45px;font-weight: bold;}
        [type="button"]:hover{cursor: pointer;background: pink;}
        #and{width: 248px;}
    </style>
</head>
<body>
<div>
    <table border="1" cellpadding="0" cellspacing="0" width="500px">
        <tr>
            <td colspan="4"><input type="text" id="input" value="0"/></td>
        </tr>
        <tr>
            <td><input type="button" id="reset" value="C"/></td>
            <td><input type="button" value="del"id="del" /></td>
            <td><input type="button" value="%" class="operates"/></td>
            <td><input type="button" value="/" class="operates"/></td>
        </tr>
        <tr>
            <td><input type="button" value="7" class="number"/></td>
            <td><input type="button" value="8" class="number"/></td>
            <td><input type="button" value="9" class="number" /></td>
            <td><input type="button" value="*" class="operates"/></td>
        </tr>
        <tr>
            <td><input type="button" value="4" class="number"/></td>
            <td><input type="button" value="5" class="number" /></td>
            <td><input type="button" value="6" class="number"/></td>
            <td><input type="button" class="operates" id="minus" value="-" /></td>
        </tr>
        <tr>
            <td><input type="button" value="1"  class="number"/></td>
            <td><input type="button" value="2" class="number"/></td>
            <td><input type="button" value="3" class="number"/></td>
            <td><input type="button" class="operates" id="plus"  value="+" /></td>
        </tr>
        <tr>
            <td><input type="button" value="0" class="number"/></td>
            <td><input type="button" id="dot" value="."/></td>
            <td colspan="2"><input id="and" type="button" value="="/></td>
        </tr>
    </table>
</div>
</body>
<script>
    var input=document.getElementById("input");
    var num=document.getElementsByClassName("number");
    var ope=document.getElementsByClassName("operates");
    var and=document.getElementById("and");
    var del=document.getElementById("del");
    var reset=document.getElementById("reset");
    var spt;
    var leftValue;
    var b=0;
    for(var i=0;i<num.length;i++){
        num[i].onclick=function(){
            if(input.value=="0"){
                input.value=this.value;
            }else{
                input.value+=this.value;
            }
        }
    }
    for(var i=0;i<ope.length;i++){
        ope[i].onclick=function(){
            spt=this.value;
            leftValue=input.value;
            input.value="";
        }
    }
    and.onclick=function(){
        var rightValue=input.value;
        if(spt=="+"){
            input.value=parseFloat(leftValue)+parseFloat(rightValue);
        }
        if(spt=="-"){
            input.value=parseFloat(leftValue)-parseFloat(rightValue);
        }
        if(spt=="*"){
            input.value=parseFloat(leftValue)*parseFloat(rightValue);
        }
        if(spt=="/"){
            input.value=parseFloat(leftValue)/parseFloat(rightValue);
        }
        if(spt=="%"){
            input.value=parseFloat(leftValue)%parseFloat(rightValue);
        }
    };
    del.onclick=function(){
        var str=input.value;
        input.value=str.substring(0,str.length-1);
    };
    reset.onclick=function(){
        leftValue=0;
        input.value="0";
        b=0;
    };
    dot.onclick=function(){
        if(input.value=="0"){
            input.value="0.";
            b=1;
        }else{
            if(b==0){
                input.value+=".";
                b=1;
            }
        }
    }

</script>
</html>